*&---------------------------------------------------------------------*
*& Include          Z_VENDOR_AGEING_TOP
*&---------------------------------------------------------------------*

TABLES: t001, acdoca, lfa1, lfb1.

TYPES: BEGIN OF ty_lfa1,
         lifnr TYPE lifnr,
         name1 TYPE name1,
       END OF ty_lfa1,
       BEGIN OF ty_final,
         combo      TYPE char50,
         segment    TYPE fb_segment,
         gsber      LIKE bsik-gsber,
         lifnr      LIKE bsik-lifnr,
         name1      LIKE lfa1-name1,
         ind        LIKE lfb1-mindk,
         saknr      LIKE bsik-saknr,
         belnr      LIKE bsik-belnr,
         gjahr      LIKE bkpf-gjahr,
         belnl      LIKE rbkp-xblnr,
         mblnr      LIKE mkpf-mblnr,
         mjahr      LIKE mkpf-mjahr,
         accdt      LIKE bsik-budat,
         bldat      LIKE rbkp-bldat,
         budat      LIKE bsik-budat,
         iblnr      TYPE bkpf-belnr,
         idate      TYPE rbkp-budat,
         ddate      TYPE rbkp-budat,
         dmbtr      TYPE bsik-dmbtr,
         admbt      TYPE bsik-dmbtr,
         wddate(8)  TYPE c,
         odmbt      TYPE bsik-dmbtr,
         dbtbl      TYPE bsik-dmbtr,
         waers      TYPE bsik-waers,
         duedate    TYPE budat,
         noday(8)   TYPE c,
         blart      TYPE bsik-blart,
         bdmbtr     TYPE bsik-dmbtr,
         text1      TYPE t052u-text1,
         zterm      TYPE lfb1-zterm,
         zterm_days TYPE t052-ztag1,
         opamt      TYPE bsik-dmbtr,
         ekorg      TYPE ekorg,
       END OF ty_final,
       BEGIN OF ty_summary,
         combo    TYPE char50,
         segment  TYPE fb_segment,
         lifnr    LIKE bsik-lifnr,
         name1    LIKE lfa1-name1,
         saknr    LIKE bsik-saknr,
         dmbtr    TYPE bsik-dmbtr,
         admbt    TYPE bsik-dmbtr,
         odmbt    TYPE bsik-dmbtr,
         noday(8) TYPE c,
       END OF ty_summary,
       BEGIN OF ty_compact,
         combo    TYPE char50,
         segment  TYPE fb_segment,
         lifnr    LIKE bsik-lifnr,
         name1    LIKE lfa1-name1,
         saknr    LIKE bsik-saknr,
         zterm    LIKE bsik-zterm,
         dmbtr    TYPE bsik-dmbtr,
         admbt    TYPE bsik-dmbtr,
         odmbt    TYPE bsik-dmbtr,
         noday(8) TYPE c,
         lt180    TYPE bsik-dmbtr,
         lt365    TYPE bsik-dmbtr,
         lt729    TYPE bsik-dmbtr,
         lt1095   TYPE bsik-dmbtr,
         gt1095   TYPE bsik-dmbtr,
       END OF ty_compact.


DATA: lv_companycode      TYPE bapi3008_1-comp_code,
      lv_vendor           TYPE bapi3008_1-vendor,
      lv_keydate          TYPE bapi3008-key_date,
      lv_noteditems       TYPE bapi3008-ntditms_rq,
      lv_sum_dmbtr        TYPE dmbtr,
      lv_sum_admbt        TYPE dmbtr,
      lv_sum_odmbt        TYPE dmbtr,
      lv_sum_lt180        TYPE dmbtr,
      lv_sum_lt365        TYPE dmbtr,
      lv_sum_lt729        TYPE dmbtr,
      lv_sum_lt1095       TYPE dmbtr,
      lv_sum_gt1095       TYPE dmbtr,
      lv_sum_plus         TYPE dmbtr,
      lv_sum_minus        TYPE dmbtr,
      lv_zterm            TYPE zterm,
      it_lfa1             TYPE TABLE OF ty_lfa1,
      wa_lfa1             TYPE ty_lfa1,
      it_return           LIKE bapireturn,
      it_lineitems        TYPE TABLE OF bapi3008_2,
      it_lineitems_all    TYPE TABLE OF bapi3008_2,
      it_final            TYPE TABLE OF ty_final,
      wa_final            TYPE ty_final,
      it_final_adj        TYPE TABLE OF ty_final,
      wa_final_adj        TYPE ty_final,
      it_final_final      TYPE TABLE OF ty_final,
      wa_final_final      TYPE ty_final,
      it_plus             TYPE TABLE OF ty_final,
      wa_plus             TYPE ty_final,
      it_minus            TYPE TABLE OF ty_final,
      wa_minus            TYPE ty_final,
      it_summary          TYPE TABLE OF ty_summary,
      wa_summary          TYPE ty_summary,
      it_compact          TYPE TABLE OF ty_compact,
      wa_compact          TYPE ty_compact,
      it_compact_lt180    TYPE TABLE OF ty_compact,
      wa_compact_lt180    TYPE ty_compact,
      it_compact_lt365    TYPE TABLE OF ty_compact,
      wa_compact_lt365    TYPE ty_compact,
      it_compact_lt729    TYPE TABLE OF ty_compact,
      wa_compact_lt729    TYPE ty_compact,
      it_compact_lt1095   TYPE TABLE OF ty_compact,
      wa_compact_lt1095   TYPE ty_compact,
      it_compact_gt1095   TYPE TABLE OF ty_compact,
      wa_compact_gt1095   TYPE ty_compact,
      it_compact_lt180_1  TYPE TABLE OF ty_compact,
      wa_compact_lt180_1  TYPE ty_compact,
      it_compact_lt365_1  TYPE TABLE OF ty_compact,
      wa_compact_lt365_1  TYPE ty_compact,
      it_compact_lt729_1  TYPE TABLE OF ty_compact,
      wa_compact_lt729_1  TYPE ty_compact,
      it_compact_lt1095_1 TYPE TABLE OF ty_compact,
      wa_compact_lt1095_1 TYPE ty_compact,
      it_compact_gt1095_1 TYPE TABLE OF ty_compact,
      wa_compact_gt1095_1 TYPE ty_compact,
      wa_pos              LIKE rfposxext,
      it_pos              LIKE rfposxext OCCURS 1,
      it_layout           TYPE slis_layout_alv,
      it_fieldcat         TYPE slis_t_fieldcat_alv,
      lw_fieldcat         TYPE slis_fieldcat_alv,
      ls_layout           TYPE slis_layout_alv,
      g_lit_header        TYPE slis_t_listheader,
      it_sort             TYPE slis_t_sortinfo_alv,
      wa_sort             TYPE slis_sortinfo_alv,
      no_of_vendors       TYPE i,
      progress_perc       TYPE string,
      progress_text       TYPE string.
